"use strict";(()=>{var e={};e.id=208,e.ids=[208],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5693:(e,t,n)=>{n.r(t),n.d(t,{headerHooks:()=>d,originalPathname:()=>w,requestAsyncStorage:()=>u,routeModule:()=>s,serverHooks:()=>l,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>c});var a={};n.r(a),n.d(a,{DELETE:()=>DELETE,GET:()=>GET,PUT:()=>PUT});var r=n(884),i=n(6132);require("autoprefixer");var o=n(7342);async function DELETE(e,{params:t}){let{code:n}=t;try{return await o.Z.link.delete({where:{code:n}}),new Response("Deleted",{status:200})}catch(e){return console.error("DELETE ERROR:",e),new Response("Not found",{status:404})}}async function GET(e,{params:t}){let{code:n}=t,a=await o.Z.link.findUnique({where:{code:n}});return a?new Response(JSON.stringify(a),{status:200,headers:{"Content-Type":"application/json"}}):new Response("Not found",{status:404})}async function PUT(e,{params:t}){let{code:n}=t,a=await o.Z.link.findUnique({where:{code:n}}),r=Number(a.clicks+1);Date.now();let i=await o.Z.link.update({where:{code:n},data:{clicks:r}});return console.log("Updated",i),new Response(JSON.stringify(i),{status:200,headers:{"Content-Type":"application/json"}})}let s=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/[code]/route",pathname:"/api/[code]",filename:"route",bundlePath:"app/api/[code]/route"},resolvedPagePath:"D:\\DSA Prepaaration\\tinylink\\tinylink\\app\\api\\[code]\\route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:l,headerHooks:d,staticGenerationBailout:c}=s,w="/api/[code]/route"},7342:(e,t,n)=>{n.d(t,{Z:()=>i});let a=require("@prisma/client"),r=globalThis;r.prisma||(r.prisma=new a.PrismaClient);let i=r.prisma}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),n=t.X(0,[729],()=>__webpack_exec__(5693));module.exports=n})();